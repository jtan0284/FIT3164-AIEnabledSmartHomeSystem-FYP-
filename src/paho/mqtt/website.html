<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Temperature and Humidity Control</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Flex container for the form and charts -->
    <div class="flex-container">
        <!-- Wrapper for the form and action section -->
        <div class="wrapper">
            <!-- Middle container with the form -->
            <div class="container">
                <h1>AI-Enabled Smart Home System</h1>
                <form id="preferences-form" class="form-container" action="/set_preferences" method="post">
                    <label for="temperature">Enter your preferred temperature:</label>
                    <input type="number" id="temperature" name="temperature" step="0.1" placeholder="e.g., 22.5" required>
                
                    <label for="humidity">Enter your preferred humidity:</label>
                    <input type="number" id="humidity" name="humidity" step="0.1" placeholder="e.g., 50" required>
                
                    <button type="submit">Submit</button>
                </form>            
                
                <!-- Result will display here after submission -->
                <div class="result" id="result">
                    Action: Adjust the temperature accordingly.
                </div>

                <div class="footer">
                    &copy; 2024 Smart Home System | Powered by AI
                </div>
            </div>
        </div>

        <!-- Prediction containers -->
        <div class="prediction-container">
            <div class="action-container">
                <h2>Predicted Temperature</h2>
                <div id="predicted-temperature">Predicted Temperature: N/A</div>
            </div>
        
            <div class="action-container2">
                <h2>Predicted Humidity</h2>
                <div id="predicted-humidity">Predicted Humidity: N/A</div>
            </div>
        </div>

        <!-- Wrapper for the charts container -->
        <div class="wrapper">
            <!-- Charts container -->
            <div class="charts-container">
                <div class="chart-wrapper">
                    <h2>Temperature Data</h2>
                    <canvas id="temperatureChart"></canvas>
                </div>

                <div class="chart-wrapper">
                    <h2>Humidity Data</h2>
                    <canvas id="humidityChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="temperature-action-container">
        <h2>Live Temperature Action</h2>
        <div id="live-temperature-action">N/A</div>
    </div>
    
    <div class="humidity-action-container">
        <h2>Live Humidity Action</h2>
        <div id="live-humidity-action">N/A</div>
    </div>

    <div class="live-data-container">
        <div class="live-temperature-container">
            <h2>Current Temperature</h2>
            <div id="live-temperature">N/A</div>
        </div>
        
        <div class="live-humidity-container">
            <h2>Current Humidity</h2>
            <div id="live-humidity">N/A</div>
        </div>
    </div>
    
    <div id="minute-preferences-wrapper" class="minute-preferences-wrapper">
        <div class="minute-container">
            <a href="http://127.0.0.1:5500/mqtt/minute_preferences.html" target="_blank">>    View Minute-based Preferences</a>
        </div>
    </div>
    
    
    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@1.27.0/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.0.0"></script>
    <script src="script.js"></script>
</body>
</html>
